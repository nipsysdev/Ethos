sources:
  - id: "eff"
    name: "Electronic Frontier Foundation"
    type: "listing"
    content_url_excludes:
      - "/event/"

    listing:
      url: "https://eff.org/updates"

      pagination:
        next_button_selector: ".pager__item.pager__item--next a"

      items:
        container_selector: ".views-row article.node"
        fields:
          title:
            selector: ".node__title"
            attribute: "text"
          url:
            selector: ".node__title a"
            attribute: "href"
          date:
            selector: ".node-date"
            attribute: "text"
          excerpt:
            selector: ".node__content"
            attribute: "text"
            optional: true
          author:
            selector: ".node-author"
            attribute: "text"
            optional: true
          image:
            selector: ".teaser-thumbnail img"
            attribute: "src"
            optional: true

    content:
      container_selector: "body"
      fields:
        content:
          selector: ".node--full"
          attribute: "text"
        image:
          selector: ".pane-banner img"
          attribute: "src"

  - id: "fpf"
    name: "Freedom of the Press Foundation"
    type: "listing"

    listing:
      url: "https://freedom.press/issues/"

      pagination:
        next_button_selector: ".pagination .pagination-link:nth-of-type(2)"

      items:
        container_selector: ".article-list .card-listing"
        fields:
          title:
            selector: ".heading .card-link"
            attribute: "text"
          url:
            selector: ".heading .card-link"
            attribute: "href"
          date:
            selector: ".meta-info time"
            attribute: "datetime"
          excerpt:
            selector: ".inner-content p"
            attribute: "text"
            optional: true
          author:
            selector: ".meta-info .card-meta-link:not(:nth-child(1))"
            attribute: "text"
            optional: true
          image:
            selector: ".card-image"
            attribute: "src"
            optional: true

    content:
      container_selector: ".blog-page"
      fields:
        content:
          selector: ".post-content"
          attribute: "text"
          exclude_selectors:
            - ".form.newsletter-signup"
        image:
          selector: ".header-image img"
          attribute: "src"

  - id: "lpe"
    name: "Logos Press Engine"
    type: "listing"

    listing:
      url: "https://press.logos.co/search?type=article"

      pagination:
        next_button_selector: ""

      items:
        container_selector: ".section .post-card"
        fields:
          title:
            selector: ".post-card__title"
            attribute: "text"
          url:
            selector: ".post-card__title"
            attribute: "href"
          date:
            selector: ".post-card__label span:nth-of-type(2)"
            attribute: "text"
          excerpt:
            selector: ".post-card__content > span"
            attribute: "text"
            optional: true
          author:
            # Author is not displayed in the listing
            selector: ""
            attribute: "text"
            optional: true
          image:
            selector: ".post-card__cover-image img"
            attribute: "src"
            optional: true

    content:
      container_selector: "main article"
      fields:
        content:
          # retrieving all text from the container_selector while excluding specific elements
          selector: ""
          attribute: "text"
          exclude_selectors:
            - "header"
            - "div"
            - "span"
        image:
          selector: "header .loaded img"
          attribute: "src"
        author:
          selector: "header div > p"
          attribute: "text"
